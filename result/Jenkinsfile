pipeline {
	agent any
	
	stages {
		stage('build'){
			when {
				changeset '**/result/**'
			}
			steps {
				sh 'npm install'
			}
		}

		stage('test'){
			when {
				changeset '**/result/**'
			}
			steps {
				sh 'npm install'
				sh 'npm run test'
			}
		}
	}
} 
